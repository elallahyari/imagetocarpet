# imagetocarpet
# 🧶 سیستم هوشمند تبدیل تصویر به طرح صنعتی فرش - نسخه ۲.۰

این پروژه یک سیستم پیشرفته مبتنی بر هوش مصنوعی برای تبدیل تصاویر معمولی به طرح‌های صنعتی فرش ماشینی است. این سیستم از آخرین مدل‌های یادگیری عمیق برای دستیابی به نتایج با کیفیت و هنری استفاده می‌کند.

## ✨ قابلیت‌های کلیدی

### 🤖 مدل‌های هوش مصنوعی
- **SAM (Segment Anything Model)**: جداسازی هوشمند سوژه اصلی از پس‌زمینه.
- **ControlNet + Stable Diffusion**: تولید طرح‌های خلاقانه و جدید بر اساس لبه‌های تصویر ورودی.
- **HED/PiDiNet**: تشخیص لبه‌های دقیق و هنرمندانه برای هدایت فرآیند تولید.
- **K-Means Clustering**: کاهش هوشمند پالت رنگی تصویر به تعداد رنگ‌های استاندارد صنعتی.

### 🎨 ویژگی‌های پردازشی
- ✅ حذف خودکار و دقیق پس‌زمینه.
- ✅ تولید طرح با کنترل بالا بر روی میزان شباهت به طرح اولیه.
- ✅ کاهش پالت رنگی به تعداد دلخواه (مثلاً ۸ تا ۱۲ رنگ).
- ✅ پشتیبانی از پالت‌های رنگی سفارشی و از پیش تعریف شده (سنتی، مدرن و...).
- ✅ ایجاد تقارن چهارطرفه برای ساخت مدالیون‌های مرکزی فرش.
- ✅ وکتورسازی خروجی به فرمت‌های **SVG** و **PDF** (نیازمند نصب `vtracer`).
- ✅ خروجی با رزولوشن و DPI بالا، آماده برای چاپ و تولید.
- ✅ رابط کاربری گرافیکی (GUI) و رابط خط فرمان (CLI) برای انعطاف‌پذیری بیشتر.

## 📋 پیش‌نیازها

### ۱. نرم‌افزارها
- **Python 3.8+**
- **CUDA 11.8+** (برای استفاده از شتاب‌دهنده GPU، به شدت توصیه می‌شود)
- **Git**

### ۲. وابستگی‌های خارجی (بسیار مهم)
این برنامه برای قابلیت **وکتورسازی** به یک ابزار خارجی نیاز دارد. **vtracer** به دلیل پشتیبانی از تصاویر رنگی، گزینه پیشنهادی است.
- **vtracer**: از [صفحه رسمی vtracer در گیت‌هاب](https://github.com/visioncortex/vtracer) آن را دانلود و نصب کنید و اطمینان حاصل کنید که در `PATH` سیستم شما قرار دارد.

### ۳. نصب کتابخانه‌های پایتون
برای نصب تمام نیازمندی‌ها، دستور زیر را در ترمینال اجرا کنید:
```bash
pip install -r requirements.txt
